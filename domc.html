<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MC test - MCQer</title>
    <link rel="stylesheet" href="style.css">  
    <script src="jquery-3.5.1.js"></script>
    <script src="myScript.js"></script>
    <script src="data.js"></script>
    <script src="https://kit.fontawesome.com/899f5f8cf8.js" crossorigin="anonymous"></script>
    <style>
        #choices li {
            margin-bottom: 7px;
            margin-left: 10px;
        }
        #choices li:nth-child(5n) {
            margin-bottom: 30px;
        }
        #choices {
            position: relative;
            width:300px;
            /* height: 650px; */
            display: flex;
            flex-direction: column;
            flex-wrap: wrap;
        }
        #subAnsBtn {
            position:absolute;
            right:0px;
            bottom:45px;
        }
        #clock {
            margin:0px 0px;
        }
        label {
            padding-top: 1px;
            padding-right: 1.9px;
            transition: background-color 0.2s;
            transition-delay: 0.1s
        }
        label:hover {
            background-color: #e6e6e6;
        }
        #clockContainer {
            visibility: hidden;
            position: absolute;
            left: 475px;
            top: 150px;
            padding:10px 10px;
            border:5px solid #b595f1;
            border-radius:10px;
        }
        .fa-play {
            color:#7e3ff2;
            position:relative;
            top:7px;
            left: 17px;
            height: 21px;
            cursor: pointer;
            transition: opacity 1s;
        }
        .fa-pause {
            color:#7e3ff2;
            position:relative;
            top:7px;
            left:39px;
            height: 21px;
            opacity:30%;
            cursor: pointer;
            transition: opacity 1s;
        }
        .switch {
            position: absolute;
            width:36px;
            height:20px;
            top:82px;
            right:2px;
        }
        .switch input {
            opacity: 0;
            text-decoration: none;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            top:0;
            bottom:0;
            right:0;
            left:0;
            text-decoration: none;
            cursor: pointer;
            border-radius:10px;
            background-color: #ccc;
            transition: background-color 0.5s;
        }
        #autoSubText {
            position: absolute; 
            top:83px;
            right:45px;
        }
        .switch input:checked + .slider {
            background-color: #7e3ff2;
        }
        .slider::before {
            content: "";
            position: absolute;
            top:2.1px;
            height:16px;
            width:16px;
            left:3px;
            background-color:white;
            border-radius: 100%;
            transition: left 0.5s;
        }
        .switch input:checked + .slider::before {
            position: absolute;
            top:2.1px;
            left:19px;
        }
        #splitScreenAdvice {
            padding:10px;
            position:absolute;
            right:0;
            top:58px;
            bottom:0;
            width:380px;
            background-color:#c6f68d;
        }
        #splitScreenAdvice p {
            padding-top:60%;
            text-align: center;
        }
        @keyframes arrowMove {
            0% {right:0px;}
            50% {right:8px}
            100% {right:0px}
        }
        .fa-angle-right {
            position:absolute;
            right:0;
            color:green;
            font-size:50px;
            animation-name: arrowMove;
            animation-duration: 1s;
            animation-iteration-count: infinite;
        }
        #arrow1 {
            top:20%;
        }
        #arrow2 {
            bottom:20%;
        }
        @media only screen and (max-width: 700px) {
            #splitScreenAdvice {
                display:none;
            }
        }
    </style>
    <link rel="icon" href="webIcon.png">
</head>
<body>
    <div class="pageContainer">
    <ul class="navbuttons">
        <a class="iconButton" href="index.html">
        <img id="webIcon" src="webIcon.png" alt="">
        <li class="navbuttons"><span>MCQer</span></li>
        </a>
        <!-- <li class="navbuttons"><a href="#">Contact Us</a></li> -->
        <!-- <li class="navbuttons"><a href="#">Tutorial</a></li> -->
        <li class="navbuttons"><a href="index.html">Answer</a></li>
        <li class="navbuttons"><a href="domc.html">Test</a></li>
    </ul>
    <div id="splitScreenAdvice">
        <p>If you have a soft-copy of the question paper,<br>you are advised to use split screen mode to optimize the experience.</p>
        <i id="arrow1" class="fas fa-angle-right"></i>
        <i id="arrow2" class="fas fa-angle-right"></i>
    </div>
    <div class="mainContent">
    <p>In this page, you can test your knowledge on different subjects by answering mc questions from DSE past papers.<br> We will mark and analyze your answers.</p>
    <br><div id = "testSelect">
    <span>subject: </span>
    <select id="select_subject">
        <option value="none">Please Select</option>
        <option value="bio_mc">Biology</option>
        <option value="chem_mc">Chemistry</option>
        <option value="phy_mc">Physics</option>
        <option value="math_mc">Mathematics</option>
    </select><br><br>
    <span>year: </span><select id='select_year' onchange='selected(response_array,false)'><option value='none'>--</option></select>
    <span>paper: </span><select id='select_paper' onchange='selected(response_array,false)'><option value='none'>--</option></select>
    <br><br><br><span>timer(min): </span><select id="selectTime"><option value="off" selected>OFF</select>
    <span style="margin-left: 5px;"><span>auto-submission</span><input id="autoSubBox" type="checkbox" disabled></input></span>
    <br><br><button id="showQuestion" disabled>test</button><br>
    <br><br><h6>*Question paper is not provided,<br>please prepare a copy of question paper yourself.</h6>
    <p>Useful links:</p>
    <a href="https://dse00.blogspot.com/" target="_blank"><img src="dse00.png" alt="DSE00"></a>
    <a href="https://dsepp.com/resource_centre/" target="_blank"><img src="dsepp.png" alt="DSEPP"></a>
    </div>
    <form>
    <div id='clockContainer'>
    <h2 id="clock"></h2>
    <i id="continueBtn" class="fas fa-play"></i>
    <i id="pauseBtn" class="fas fa-pause"></i>
    <span id="autoSubText">auto-sub: </span>
    <label class="switch">
    <input id="autoSubSwitch" type="checkbox"></input>
    <span class="slider"></span>
    </label>
    </div>
    <ol id='choices'>
        <!-- <li>
            <form>
                <label><input name="Q1" type="radio"></label>
                <label><input name="Q1" type="radio"></label>
                <label><input name="Q1" type="radio"></label>
                <label><input name="Q1" type="radio"></label>
            </form>
        </li> -->
    </ol>
    </form>
    <p id="mark"></p>
    <p id="levelMark"></p>
    <div id="markingTable"></div>
    </div>
    <footer><small>&copy; Copyright 2021, MCQer. All rights reserved.</small></footer>
    </div>  
    <script>
        //timer options
        window.onload = function(){
        var target = document.getElementById("selectTime")
        for (var i=5; i<81; i+=5) {
            var timeOpt = document.createElement("OPTION");
            timeOpt.value = i
            timeOpt.innerHTML = i
            target.appendChild(timeOpt)
        }}

        document.getElementById("showQuestion").addEventListener("click", function(evt){
            var confirmStart = confirm("The Test will start right away. Confirm You want to start now")
            if (confirmStart == true) {
                setTimer();
                checkAutoSub();
                showTestInfo();
                showQuestions(filter_array.length);
 
            }

        })
        document.getElementById("select_subject").addEventListener("change", function(evt){
            if (evt.target.value != "none") {
                get_array(evt.target.value,false,2);
                // selectable(2);
            }
            else {
                window.location.reload(false);
            }
        })
        document.getElementById("selectTime").addEventListener("change", function(evt) {
            var autoSubbox = document.getElementById("autoSubBox")
            console.log(evt.target.value)
            if (evt.target.value != "off") {
                autoSubbox.disabled = false
            }
            else {
                autoSubbox.disabled = true
                autoSubbox.checked = false
            }
        })
        // check if year and paper is selected and enable subAnsButton
        function paperIsSelected() {
            var selectYear = document.getElementById("select_year").value;
            var selectPaper = document.getElementById("select_paper").value;
            if (selectYear != "none" & selectPaper != "none") {
                document.getElementById("showQuestion").disabled = false;
            }
            else {
                document.getElementById("showQuestion").disabled = true;
            }
        }
        document.getElementById("select_year").addEventListener("change",paperIsSelected);
        document.getElementById("select_paper").addEventListener("change",paperIsSelected);
    </script>
</body>
</html>